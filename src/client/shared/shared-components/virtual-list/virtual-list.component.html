<app-scroll-box class="virtual-list"
        [class.virtual-list_spinner]="loading"
        [wheelSize]="getAvgHeight() * 2"
        [verticalAbsoluteScrollPosition]="scrollPosPx"
        (verticalAbsoluteScrollPositionChange)="onScrollPosChange($event)"
        (verticalRelativeScrollSizeChange)="onScrollSizeChange($event)"
>
    <div class="virtual-list__top" [style.height.px]="topVirtualHeightPx"></div>
    <div class="virtual-list__view" #viewport>
        <div class="virtual-list__view-item" #viewItem *ngFor="let item of viewportItems; let i = index;">
            <ng-container *ngTemplateOutlet="itemTemplate; context: {item: item, index: i}"></ng-container>
        </div>
    </div>
    <div class="virtual-list__bottom" [style.height.px]="bottomVirtualHeightPx"></div>
</app-scroll-box>
<app-spinner class="virtual-list__spinner" *ngIf="loading"></app-spinner>